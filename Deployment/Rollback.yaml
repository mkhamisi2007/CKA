#create a deployment
kubectl create deployment nginx-deployment --image=nginx:1.25

# make a change(image here)
kubectl set image deployment/nginx-deployment nginx=nginx:1.26
# or increase replicas
kubectl scale deployment nginx-deployment --replicas=5

# every chage will create a REVISION
kubectl rollout history deployment/nginx-deployment 
    REVISION  CHANGE-CAUSE
    1         <none>
    2         kubectl.exe set image deployment/nginx-deployment nginx=nginx:1.26 --record=true
    
kubectl rollout status deployment/nginx-deployment
    deployment "nginx-deployment" successfully rolled out
    
#Rollback
kubectl rollout undo deployment/nginx-deployment
kubectl rollout undo deployment/nginx-deployment --to-revision=1

# every REVISION is connected to a ReplicaSet that will not be deleted
kubectl get rs
    NAME                          DESIRED   CURRENT   READY   AGE
    nginx-deployment-546dff8b69   0         0         0       4m12s
    nginx-deployment-9fdcf75b8    1         1         1       3m9s







